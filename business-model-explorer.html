<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Business Model & Network Effects Explorer</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .header {
            text-align: center;
            color: white;
            margin-bottom: 30px;
        }
        
        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        
        .tabs {
            display: flex;
            justify-content: center;
            margin-bottom: 20px;
            background: rgba(255,255,255,0.1);
            border-radius: 15px;
            padding: 10px;
            flex-wrap: wrap;
        }
        
        .tab-button {
            background: transparent;
            border: none;
            color: white;
            padding: 15px 30px;
            margin: 5px;
            border-radius: 10px;
            cursor: pointer;
            font-size: 16px;
            transition: all 0.3s ease;
        }
        
        .tab-button:hover {
            background: rgba(255,255,255,0.2);
        }
        
        .tab-button.active {
            background: white;
            color: #667eea;
            font-weight: bold;
        }
        
        .tab-content {
            display: none;
            background: white;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            margin-bottom: 20px;
        }
        
        .tab-content.active {
            display: block;
        }
        
        .business-models {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        
        .model-card {
            background: linear-gradient(135deg, #f8f9fa, #e9ecef);
            border-radius: 15px;
            padding: 20px;
            transition: all 0.3s ease;
            cursor: pointer;
            border: 2px solid transparent;
        }
        
        .model-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
            border-color: #667eea;
        }
        
        .model-title {
            font-size: 20px;
            font-weight: bold;
            color: #667eea;
            margin-bottom: 10px;
        }
        
        .result {
            background: #e8f5e8;
            border: 2px solid #4caf50;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            display: none;
        }
        
        .network-visualization {
            text-align: center;
            margin: 20px 0;
        }
        
        .node {
            display: inline-block;
            width: 60px;
            height: 60px;
            background: #667eea;
            border-radius: 50%;
            margin: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            line-height: 60px;
            color: white;
            font-weight: bold;
        }
        
        .node:hover {
            background: #764ba2;
            transform: scale(1.1);
        }
        
        .node.connected {
            background: #4caf50;
        }
        
        .analyze-btn {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 10px;
            font-size: 18px;
            cursor: pointer;
            transition: all 0.3s ease;
            margin: 20px 10px;
        }
        
        .analyze-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.3);
        }
        
        .back-link {
            position: fixed;
            top: 20px;
            left: 20px;
            background: rgba(255,255,255,0.9);
            color: #667eea;
            padding: 10px 20px;
            border-radius: 25px;
            text-decoration: none;
            font-weight: bold;
            transition: all 0.3s ease;
            z-index: 1000;
        }
        
        .back-link:hover {
            background: white;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }
        
        .input-section {
            margin: 20px 0;
        }
        
        .input-section label {
            display: block;
            margin-bottom: 10px;
            font-weight: bold;
        }
        
        .input-section input, .input-section textarea {
            width: 100%;
            padding: 15px;
            border: 2px solid #dee2e6;
            border-radius: 10px;
            font-size: 16px;
        }
        
        .insight-box {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            border-left: 5px solid #667eea;
        }
        
        /* Network Effects Simulator Styles */
        .network-types {
            margin: 20px 0;
            text-align: center;
        }
        
        .network-buttons {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }
        
        .network-type-btn {
            background: white;
            border: 2px solid #dee2e6;
            border-radius: 10px;
            padding: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 14px;
            text-align: center;
        }
        
        .network-type-btn:hover {
            border-color: #667eea;
            transform: translateY(-2px);
        }
        
        .network-type-btn.active {
            background: #667eea;
            color: white;
            border-color: #667eea;
        }
        
        .simulation-area {
            background: #f8f9ff;
            border-radius: 15px;
            padding: 25px;
            margin: 20px 0;
        }
        
        .simulation-controls {
            text-align: center;
            margin-bottom: 25px;
        }
        
        .controls {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin: 15px 0;
            flex-wrap: wrap;
        }
        
        .sim-btn {
            border: none;
            border-radius: 8px;
            padding: 10px 20px;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.3s ease;
        }
        
        .sim-btn.primary {
            background: #667eea;
            color: white;
        }
        
        .sim-btn.secondary {
            background: #6c757d;
            color: white;
        }
        
        .sim-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
        }
        
        .visualization-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 25px;
            margin: 20px 0;
        }
        
        .network-graph, .growth-chart {
            background: white;
            border-radius: 10px;
            padding: 20px;
            text-align: center;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }
        
        .network-stats {
            display: flex;
            justify-content: space-around;
            margin-top: 15px;
        }
        
        .stat {
            text-align: center;
        }
        
        .stat-number {
            display: block;
            font-size: 24px;
            font-weight: bold;
            color: #667eea;
        }
        
        .stat-label {
            font-size: 12px;
            color: #666;
        }
        
        .chart-legend {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 10px;
        }
        
        .legend-item {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 12px;
        }
        
        .legend-color {
            width: 20px;
            height: 3px;
            border-radius: 2px;
        }
        
        .legend-color.linear {
            background: #28a745;
        }
        
        .legend-color.network {
            background: #667eea;
        }
        
        .network-education {
            margin: 30px 0;
        }
        
        .education-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        
        .education-card {
            background: white;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            border-left: 4px solid #667eea;
        }
        
        .education-card h4 {
            color: #667eea;
            margin-bottom: 15px;
        }
        
        .education-card p {
            margin-bottom: 10px;
            line-height: 1.5;
        }
        
        .examples-section {
            margin: 30px 0;
        }
        
        .examples-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        
        .example-card {
            background: white;
            border-radius: 10px;
            padding: 20px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }
        
        .example-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
        }
        
        .example-logo {
            font-size: 48px;
            margin-bottom: 15px;
        }
        
        .example-stats {
            display: flex;
            justify-content: space-between;
            margin-top: 15px;
            font-size: 12px;
            color: #666;
        }
        
        .example-details {
            background: #f8f9ff;
            border-radius: 10px;
            padding: 20px;
            margin-top: 20px;
            display: none;
        }
        
        @media (max-width: 768px) {
            .tabs {
                flex-direction: column;
            }
            
            .tab-button {
                width: 100%;
                margin: 2px;
            }
            
            .business-models {
                grid-template-columns: 1fr;
            }
            
            .header h1 {
                font-size: 2em;
            }
            
            .visualization-grid {
                grid-template-columns: 1fr;
            }
            
            .network-buttons {
                grid-template-columns: 1fr 1fr;
            }
            
            .controls {
                flex-direction: column;
                align-items: center;
            }
            
            .sim-btn {
                width: 200px;
            }
            
            .education-grid, .examples-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <a href="index.html" class="back-link">‚Üê Back to Tools</a>
    
    <div class="container">
        <div class="header">
            <h1>üöÄ Business Model & Network Effects Explorer</h1>
            <p>Interactive learning tool for Module 3 concepts</p>
        </div>
        
        <div class="tabs">
            <button class="tab-button active" onclick="showTab('models', this)">Business Models</button>
            <button class="tab-button" onclick="showTab('network', this)">Network Effects Simulator</button>
        </div>
        
        <!-- Business Models Tab -->
        <div id="models" class="tab-content active">
            <h2>Digital Business Models Explorer</h2>
            <p>Click on each model to learn more and see real-world examples:</p>
            
            <div class="business-models">
                <div class="model-card" onclick="showModelDetails('freemium')">
                    <div class="model-title">üí∞ Freemium</div>
                    <p>Basic service free, premium features paid</p>
                    <p><strong>Examples:</strong> Spotify, Zoom, Slack</p>
                </div>
                
                <div class="model-card" onclick="showModelDetails('subscription')">
                    <div class="model-title">üîÑ Subscription</div>
                    <p>Recurring payments for ongoing access</p>
                    <p><strong>Examples:</strong> Netflix, Adobe, Amazon Prime</p>
                </div>
                
                <div class="model-card" onclick="showModelDetails('marketplace')">
                    <div class="model-title">üè™ Marketplace</div>
                    <p>Platform connecting buyers and sellers</p>
                    <p><strong>Examples:</strong> Amazon, eBay, Airbnb</p>
                </div>
                
                <div class="model-card" onclick="showModelDetails('advertising')">
                    <div class="model-title">üì¢ Advertising</div>
                    <p>Free service funded by advertisers</p>
                    <p><strong>Examples:</strong> Google, Facebook, YouTube</p>
                </div>
                
                <div class="model-card" onclick="showModelDetails('saas')">
                    <div class="model-title">‚òÅÔ∏è SaaS</div>
                    <p>Software delivered as a service</p>
                    <p><strong>Examples:</strong> Salesforce, Dropbox, Office 365</p>
                </div>
                
                <div class="model-card" onclick="showModelDetails('platform')">
                    <div class="model-title">üåê Platform</div>
                    <p>Enabling others to build and sell</p>
                    <p><strong>Examples:</strong> iOS App Store, Shopify, AWS</p>
                </div>
            </div>
            
            <div id="model-details" class="result">
                <h3 id="model-name"></h3>
                <p id="model-description"></p>
                <div id="model-examples"></div>
            </div>
        </div>
        
        <!-- Network Effects Tab -->
        <div id="network" class="tab-content">
            <h2>üåê Advanced Network Effects Simulator</h2>
            <p>Experience how different types of networks create exponential value growth:</p>
            
            <!-- Network Type Selector -->
            <div class="network-types">
                <h3>Choose Network Type:</h3>
                <div class="network-buttons">
                    <button class="network-type-btn active" onclick="setNetworkType('social')">
                        üë• Social Network<br><small>Facebook, LinkedIn</small>
                    </button>
                    <button class="network-type-btn" onclick="setNetworkType('marketplace')">
                        üè™ Marketplace<br><small>Uber, Airbnb</small>
                    </button>
                    <button class="network-type-btn" onclick="setNetworkType('platform')">
                        üåê Platform<br><small>iOS, Android</small>
                    </button>
                    <button class="network-type-btn" onclick="setNetworkType('communication')">
                        üìû Communication<br><small>WhatsApp, Zoom</small>
                    </button>
                </div>
            </div>
            
            <!-- Interactive Simulation -->
            <div class="simulation-area">
                <div class="simulation-controls">
                    <h3 id="network-title">Social Network Simulation</h3>
                    <p id="network-description">Each user can connect to every other user, creating exponential value growth</p>
                    
                    <div class="controls">
                        <button class="sim-btn primary" onclick="addUsers(1)">+1 User</button>
                        <button class="sim-btn primary" onclick="addUsers(5)">+5 Users</button>
                        <button class="sim-btn primary" onclick="addUsers(10)">+10 Users</button>
                        <button class="sim-btn secondary" onclick="resetSimulation()">Reset</button>
                        <button class="sim-btn secondary" onclick="autoGrow()">Auto Grow</button>
                    </div>
                </div>
                
                <div class="visualization-grid">
                    <!-- Network Graph -->
                    <div class="network-graph">
                        <h4>Network Visualization</h4>
                        <div id="graph-container">
                            <svg id="network-svg" width="300" height="250"></svg>
                        </div>
                        <div class="network-stats">
                            <div class="stat">
                                <span class="stat-number" id="user-count">0</span>
                                <span class="stat-label">Users</span>
                            </div>
                            <div class="stat">
                                <span class="stat-number" id="connections">0</span>
                                <span class="stat-label">Connections</span>
                            </div>
                            <div class="stat">
                                <span class="stat-number" id="network-value">0</span>
                                <span class="stat-label">Network Value</span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Growth Chart -->
                    <div class="growth-chart">
                        <h4>Value Growth Chart</h4>
                        <div id="chart-container">
                            <canvas id="growth-canvas" width="300" height="200"></canvas>
                        </div>
                        <div class="chart-legend">
                            <div class="legend-item">
                                <span class="legend-color linear"></span>
                                <span>Linear Growth</span>
                            </div>
                            <div class="legend-item">
                                <span class="legend-color network"></span>
                                <span>Network Growth</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Educational Content -->
            <div class="network-education">
                <div class="education-grid">
                    <div class="education-card">
                        <h4>üîó Direct Network Effects</h4>
                        <p><strong>Definition:</strong> Value increases as more users join the same network</p>
                        <p><strong>Formula:</strong> Value = n √ó (n-1) where n = users</p>
                        <p><strong>Examples:</strong> Facebook, WhatsApp, LinkedIn</p>
                        <p><strong>Why it works:</strong> Each new user can connect to all existing users</p>
                    </div>
                    
                    <div class="education-card">
                        <h4>üîÑ Indirect Network Effects</h4>
                        <p><strong>Definition:</strong> More users on one side attract users on another side</p>
                        <p><strong>Formula:</strong> Value = buyers √ó sellers √ó transaction_rate</p>
                        <p><strong>Examples:</strong> Uber, Airbnb, eBay</p>
                        <p><strong>Why it works:</strong> Two-sided markets create mutual value</p>
                    </div>
                    
                    <div class="education-card">
                        <h4>üì± Platform Effects</h4>
                        <p><strong>Definition:</strong> More apps attract more users, more users attract more developers</p>
                        <p><strong>Formula:</strong> Value = users √ó apps √ó quality_factor</p>
                        <p><strong>Examples:</strong> iOS App Store, Google Play, Steam</p>
                        <p><strong>Why it works:</strong> Ecosystem growth benefits all participants</p>
                    </div>
                    
                    <div class="education-card">
                        <h4>‚ö° Critical Mass</h4>
                        <p><strong>Definition:</strong> Point where network value exceeds alternatives</p>
                        <p><strong>Key insight:</strong> Early growth is slow, then accelerates rapidly</p>
                        <p><strong>Strategy:</strong> Focus on dense networks before expanding</p>
                        <p><strong>Example:</strong> Facebook started with college students before going global</p>
                    </div>
                </div>
            </div>
            
            <!-- Real-World Examples -->
            <div class="examples-section">
                <h3>üìä Real-World Network Effects</h3>
                <div class="examples-grid">
                    <div class="example-card" onclick="showExample('facebook')">
                        <div class="example-logo">üìò</div>
                        <h4>Facebook</h4>
                        <p>2.9B users creating massive social network value</p>
                        <div class="example-stats">
                            <span>Network Type: Direct</span>
                            <span>Started: 2004</span>
                        </div>
                    </div>
                    
                    <div class="example-card" onclick="showExample('uber')">
                        <div class="example-logo">üöó</div>
                        <h4>Uber</h4>
                        <p>Two-sided marketplace connecting riders and drivers</p>
                        <div class="example-stats">
                            <span>Network Type: Indirect</span>
                            <span>Started: 2009</span>
                        </div>
                    </div>
                    
                    <div class="example-card" onclick="showExample('ios')">
                        <div class="example-logo">üì±</div>
                        <h4>iOS App Store</h4>
                        <p>Platform enabling millions of apps for billions of users</p>
                        <div class="example-stats">
                            <span>Network Type: Platform</span>
                            <span>Started: 2008</span>
                        </div>
                    </div>
                </div>
                
                <div id="example-details" class="example-details">
                    <h4 id="example-title"></h4>
                    <div id="example-content"></div>
                </div>
            </div>
        </div>
        
    </div>

    <script>
        // Network Simulation State
        let networkState = {
            users: 0,
            type: 'social',
            growthData: [],
            autoGrowthInterval: null,
            canvas: null,
            ctx: null,
            svg: null
        };
        
        // Network type configurations
        const networkTypes = {
            social: {
                title: "Social Network Simulation",
                description: "Each user can connect to every other user, creating exponential value growth",
                valueFormula: (n) => n * (n - 1), // Direct connections
                color: "#667eea"
            },
            marketplace: {
                title: "Marketplace Network Simulation", 
                description: "Two-sided market where buyers and sellers create mutual value",
                valueFormula: (n) => Math.floor(n/2) * Math.ceil(n/2) * 2, // Buyers √ó Sellers
                color: "#28a745"
            },
            platform: {
                title: "Platform Ecosystem Simulation",
                description: "Users and developers create compound value through apps and usage",
                valueFormula: (n) => n * Math.log2(Math.max(n, 1)) * 10, // Platform effects
                color: "#dc3545"
            },
            communication: {
                title: "Communication Network Simulation",
                description: "Value grows as more people can communicate with each other",
                valueFormula: (n) => n * (n - 1) / 2, // Unique connections
                color: "#fd7e14"
            }
        };
        
        // Initialize when page loads
        document.addEventListener('DOMContentLoaded', function() {
            networkState.canvas = document.getElementById('growth-canvas');
            networkState.ctx = networkState.canvas.getContext('2d');
            networkState.svg = document.getElementById('network-svg');
            resetSimulation();
            drawChart();
        });
        
        function showTab(tabName, element) {
            // Hide all tabs
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.classList.remove('active');
            });
            document.querySelectorAll('.tab-button').forEach(btn => {
                btn.classList.remove('active');
            });
            
            // Show selected tab
            document.getElementById(tabName).classList.add('active');
            element.classList.add('active');
        }
        
        function showModelDetails(modelType) {
            const details = {
                freemium: {
                    name: "Freemium Model",
                    description: "Offers a basic version of the product for free while charging for premium features. This model relies on converting a percentage of free users to paid users.",
                    examples: "Spotify (free with ads vs. premium), Zoom (limited meeting time vs. unlimited), Slack (limited features vs. full functionality)"
                },
                subscription: {
                    name: "Subscription Model", 
                    description: "Customers pay a recurring fee for ongoing access to a product or service. Provides predictable revenue and high customer lifetime value.",
                    examples: "Netflix (monthly streaming), Adobe Creative Cloud (software access), Amazon Prime (shipping and services)"
                },
                marketplace: {
                    name: "Marketplace Model",
                    description: "Platform that connects buyers and sellers, taking a commission or fee from transactions. Benefits from network effects as more participants increase value.",
                    examples: "Amazon (product marketplace), Airbnb (accommodation), Uber (transportation)"
                },
                advertising: {
                    name: "Advertising Model",
                    description: "Provides free or low-cost services to users while generating revenue from advertisers who want to reach those users.",
                    examples: "Google Search (ad revenue), Facebook (targeted ads), YouTube (video ads)"
                },
                saas: {
                    name: "Software as a Service (SaaS)",
                    description: "Software delivered over the internet on a subscription basis. Eliminates need for local installation and provides automatic updates.",
                    examples: "Salesforce (CRM), Dropbox (storage), Microsoft Office 365 (productivity)"
                },
                platform: {
                    name: "Platform Model",
                    description: "Provides a foundation for others to build upon, often taking a percentage of transactions or charging for access to developer tools.",
                    examples: "iOS App Store (app distribution), Shopify (e-commerce platform), AWS (cloud services)"
                }
            };
            
            const detail = details[modelType];
            document.getElementById('model-name').textContent = detail.name;
            document.getElementById('model-description').textContent = detail.description;
            document.getElementById('model-examples').innerHTML = `<strong>Examples:</strong> ${detail.examples}`;
            document.getElementById('model-details').style.display = 'block';
        }
        
        // Network Effects Simulator Functions
        function setNetworkType(type) {
            // Clear any running auto-growth
            if (networkState.autoGrowthInterval) {
                clearInterval(networkState.autoGrowthInterval);
                networkState.autoGrowthInterval = null;
            }
            
            // Update active button
            document.querySelectorAll('.network-type-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
            
            // Update network state
            networkState.type = type;
            const config = networkTypes[type];
            
            // Update UI
            document.getElementById('network-title').textContent = config.title;
            document.getElementById('network-description').textContent = config.description;
            
            // Reset and redraw
            resetSimulation();
        }
        
        function addUsers(count) {
            for (let i = 0; i < count; i++) {
                networkState.users++;
                const value = calculateNetworkValue(networkState.users);
                networkState.growthData.push({
                    users: networkState.users,
                    networkValue: value,
                    linearValue: networkState.users * 10 // Linear baseline
                });
            }
            
            updateDisplay();
            drawNetworkGraph();
            drawChart();
        }
        
        function calculateNetworkValue(users) {
            const config = networkTypes[networkState.type];
            return Math.round(config.valueFormula(users));
        }
        
        function updateDisplay() {
            const users = networkState.users;
            const connections = networkState.type === 'social' || networkState.type === 'communication' 
                ? Math.round(users * (users - 1) / 2)
                : users > 1 ? Math.floor(users * 1.5) : 0;
            const value = calculateNetworkValue(users);
            
            document.getElementById('user-count').textContent = users;
            document.getElementById('connections').textContent = connections;
            document.getElementById('network-value').textContent = value;
        }
        
        function drawNetworkGraph() {
            const svg = networkState.svg;
            const users = Math.min(networkState.users, 12); // Limit visual nodes
            
            // Clear existing
            svg.innerHTML = '';
            
            if (users === 0) return;
            
            const config = networkTypes[networkState.type];
            const centerX = 150;
            const centerY = 125;
            const radius = 80;
            
            // Create nodes
            const nodes = [];
            for (let i = 0; i < users; i++) {
                const angle = (i * 2 * Math.PI) / users;
                const x = centerX + radius * Math.cos(angle);
                const y = centerY + radius * Math.sin(angle);
                nodes.push({ x, y, id: i });
                
                // Draw node
                const circle = document.createElementNS('http://www.w3.org/2000/svg', 'circle');
                circle.setAttribute('cx', x);
                circle.setAttribute('cy', y);
                circle.setAttribute('r', 8);
                circle.setAttribute('fill', config.color);
                circle.setAttribute('stroke', 'white');
                circle.setAttribute('stroke-width', 2);
                svg.appendChild(circle);
            }
            
            // Draw connections based on network type
            if (networkState.type === 'social' && users > 1) {
                // Full mesh network
                for (let i = 0; i < users; i++) {
                    for (let j = i + 1; j < users; j++) {
                        drawConnection(svg, nodes[i], nodes[j], config.color);
                    }
                }
            } else if (networkState.type === 'marketplace' && users > 1) {
                // Connect buyers to sellers (alternating)
                for (let i = 0; i < users; i += 2) {
                    for (let j = 1; j < users; j += 2) {
                        if (i !== j) {
                            drawConnection(svg, nodes[i], nodes[j], config.color);
                        }
                    }
                }
            } else if (networkState.type === 'platform' && users > 2) {
                // Hub and spoke model
                const hub = nodes[0];
                for (let i = 1; i < users; i++) {
                    drawConnection(svg, hub, nodes[i], config.color);
                }
            } else if (networkState.type === 'communication' && users > 1) {
                // Partial mesh - not everyone connected to everyone
                for (let i = 0; i < users; i++) {
                    const connections = Math.min(3, users - 1);
                    for (let j = 1; j <= connections; j++) {
                        const targetIndex = (i + j) % users;
                        if (targetIndex !== i) {
                            drawConnection(svg, nodes[i], nodes[targetIndex], config.color);
                        }
                    }
                }
            }
        }
        
        function drawConnection(svg, node1, node2, color) {
            const line = document.createElementNS('http://www.w3.org/2000/svg', 'line');
            line.setAttribute('x1', node1.x);
            line.setAttribute('y1', node1.y);
            line.setAttribute('x2', node2.x);
            line.setAttribute('y2', node2.y);
            line.setAttribute('stroke', color);
            line.setAttribute('stroke-width', 1);
            line.setAttribute('opacity', 0.6);
            svg.appendChild(line);
        }
        
        function drawChart() {
            const ctx = networkState.ctx;
            const canvas = networkState.canvas;
            const data = networkState.growthData;
            
            // Clear canvas
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            if (data.length === 0) return;
            
            const padding = 40;
            const width = canvas.width - 2 * padding;
            const height = canvas.height - 2 * padding;
            
            // Find max values for scaling
            const maxUsers = Math.max(...data.map(d => d.users));
            const maxValue = Math.max(...data.map(d => d.networkValue));
            
            // Draw axes
            ctx.strokeStyle = '#ddd';
            ctx.lineWidth = 1;
            ctx.beginPath();
            ctx.moveTo(padding, padding);
            ctx.lineTo(padding, canvas.height - padding);
            ctx.lineTo(canvas.width - padding, canvas.height - padding);
            ctx.stroke();
            
            // Draw grid
            ctx.strokeStyle = '#f0f0f0';
            for (let i = 1; i <= 5; i++) {
                const y = padding + (height * i) / 5;
                ctx.beginPath();
                ctx.moveTo(padding, y);
                ctx.lineTo(canvas.width - padding, y);
                ctx.stroke();
            }
            
            if (data.length > 1) {
                // Draw linear growth line
                ctx.strokeStyle = '#28a745';
                ctx.lineWidth = 2;
                ctx.beginPath();
                data.forEach((point, index) => {
                    const x = padding + (width * point.users) / maxUsers;
                    const y = canvas.height - padding - (height * point.linearValue) / maxValue;
                    if (index === 0) ctx.moveTo(x, y);
                    else ctx.lineTo(x, y);
                });
                ctx.stroke();
                
                // Draw network growth line
                const config = networkTypes[networkState.type];
                ctx.strokeStyle = config.color;
                ctx.lineWidth = 3;
                ctx.beginPath();
                data.forEach((point, index) => {
                    const x = padding + (width * point.users) / maxUsers;
                    const y = canvas.height - padding - (height * point.networkValue) / maxValue;
                    if (index === 0) ctx.moveTo(x, y);
                    else ctx.lineTo(x, y);
                });
                ctx.stroke();
            }
            
            // Draw labels
            ctx.fillStyle = '#666';
            ctx.font = '12px Arial';
            ctx.fillText('Users', canvas.width - 30, canvas.height - 10);
            ctx.save();
            ctx.translate(15, canvas.height / 2);
            ctx.rotate(-Math.PI / 2);
            ctx.fillText('Value', 0, 0);
            ctx.restore();
        }
        
        function resetSimulation() {
            networkState.users = 0;
            networkState.growthData = [];
            
            if (networkState.autoGrowthInterval) {
                clearInterval(networkState.autoGrowthInterval);
                networkState.autoGrowthInterval = null;
            }
            
            updateDisplay();
            drawNetworkGraph();
            drawChart();
        }
        
        function autoGrow() {
            if (networkState.autoGrowthInterval) {
                clearInterval(networkState.autoGrowthInterval);
                networkState.autoGrowthInterval = null;
                return;
            }
            
            networkState.autoGrowthInterval = setInterval(() => {
                if (networkState.users < 50) {
                    addUsers(1);
                } else {
                    clearInterval(networkState.autoGrowthInterval);
                    networkState.autoGrowthInterval = null;
                }
            }, 300);
        }
        
        function showExample(company) {
            const examples = {
                facebook: {
                    title: "Facebook: Direct Network Effects",
                    content: `
                        <p><strong>How it works:</strong> Each user that joins Facebook can connect to every other user, creating exponential value growth.</p>
                        <p><strong>Growth Strategy:</strong> Started with college students to create dense networks before expanding.</p>
                        <p><strong>Network Value:</strong> With 2.9B users, Facebook has approximately 4.2 trillion potential connections.</p>
                        <p><strong>Business Impact:</strong> Network effects create high switching costs - users stay because their friends are there.</p>
                        <p><strong>Formula:</strong> Value ‚âà n √ó (n-1) where n = number of active users</p>
                    `
                },
                uber: {
                    title: "Uber: Indirect Network Effects", 
                    content: `
                        <p><strong>How it works:</strong> More riders attract more drivers, and more drivers attract more riders.</p>
                        <p><strong>Two-sided Market:</strong> Value created by matching supply (drivers) with demand (riders).</p>
                        <p><strong>Growth Strategy:</strong> Initially subsidized both sides to reach critical mass in each city.</p>
                        <p><strong>Network Value:</strong> Faster pickup times and better coverage as density increases.</p>
                        <p><strong>Formula:</strong> Value ‚âà drivers √ó riders √ó utilization_rate</p>
                    `
                },
                ios: {
                    title: "iOS App Store: Platform Effects",
                    content: `
                        <p><strong>How it works:</strong> More iPhone users attract more app developers, more apps attract more users.</p>
                        <p><strong>Ecosystem Growth:</strong> Each participant benefits from the success of others.</p>
                        <p><strong>Growth Strategy:</strong> Apple invested heavily in developer tools and marketing.</p>
                        <p><strong>Network Value:</strong> 1.8 million apps available to 1+ billion iOS users.</p>
                        <p><strong>Formula:</strong> Value ‚âà users √ó apps √ó quality_factor</p>
                    `
                }
            };
            
            const example = examples[company];
            document.getElementById('example-title').textContent = example.title;
            document.getElementById('example-content').innerHTML = example.content;
            document.getElementById('example-details').style.display = 'block';
        }
    </script>
</body>
</html>